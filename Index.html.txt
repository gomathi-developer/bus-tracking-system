Index.html
<!DOCTYPE html>
<html>
<head>
    <title>Login Page</title>
    <link rel="stylesheet" type="text/css" href="front.css">
</head>
<body>
    <div class="container">
        <h1>Login</h1>       
        <form class="form" action="k4.php" method="post">
            <label for="username">Username:</label><br>
            <input type="text" id="username" name="username" required><br>
            <label for="password">Password:</label><br>
            <input type="password" id="password" name="password" required><br>
            <label for="user_type">User Type:</label><br>
            <select id="user_type" name="user_type" required>
                <option value="admin">Admin</option>
                <option value="student">Student</option>
                <option value="faculty">Faculty</option>
                <option value="driver">Driver</option>
            </select><br>
            <input type="submit" value="Login">
        </form>
    </div>
</body>
</html>

K4.php
<?php
session_start();

$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $inputUsername = $_POST['username'];
    $inputPassword = $_POST['password'];
    $inputUserType = $_POST['user_type'];
    $stmt = $conn->prepare("SELECT * FROM users WHERE username = ? AND password = ? AND user_type = ?");
    $stmt->bind_param("sss", $inputUsername, $inputPassword, $inputUserType);
    $stmt->execute();
    $result = $stmt->get_result();
    if ($result->num_rows > 0) {
        $_SESSION['username'] = $inputUsername;
        $_SESSION['user_type'] = $inputUserType;
        switch ($inputUserType) {
            case 'admin':
                header("Location: admin.html");
                break;
            case 'student':
                header("Location: front.html");
                break;
            case 'faculty':
                header("Location: front.html");
                break;
            case 'driver':
                header("Location: driver.html");
                break;
            default:
                echo "Invalid user type.";
                exit();
        }
        exit();
    } else {
        echo "Invalid username, password, or user type.";
    }
    $stmt->close();
}
$conn->close();
?>
admin.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bus Tracking System Admin</title>
   <link rel="stylesheet" type="text/css" href="admindash.css"> 
</head>
<body>
<div class="header">
  <h1>Welcome Admin... </h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="admin_dashboard.php">Dashboard</a></li>
    <li class="menu-item"><a href="manage_buses.php">Manage Buses</a></li>
    <li class="menu-item"><a href="manage_drivers.php">manage drivers</a></li>
    <li class="menu-item"><a href="report.html">Reports</a></li>
    <li class="menu-item"><a href="settings.html">Settings</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <h2>Welcome to the Admin Panel!</h2>
  <p>This is where you can manage buses, drivers, view reports, and adjust system settings.</p>
</div>
</body>
</html>

admin_dashboard.html
<?php
session_start();
if (!isset($_SESSION['username']) || $_SESSION['user_type'] != 'admin') {
    header("Location: index.html");
    exit();
}
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
$sql = "SELECT COUNT(*) as bus_count FROM bus";
$busResult = $conn->query($sql);
$busCount = $busResult->fetch_assoc()['bus_count'];
$sql = "SELECT COUNT(*) as driver_count FROM drivers";
$driverResult = $conn->query($sql);
$driverCount = $driverResult->fetch_assoc()['driver_count'];
$sql = "SELECT * FROM bus";
$busListResult = $conn->query($sql);
$sql = "SELECT DISTINCT bus_number, route FROM bus"; 
$busNumbersResult = $conn->query($sql);
?>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <link rel="stylesheet" type="text/css" href="admindashboard1.css">
</head>
<body>
<div class="header">
  <h1>Admin Dashboard</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="#">Dashboard</a></li>
    <li class="menu-item"><a href="manage_buses.php">Manage Buses</a></li>
    <li class="menu-item"><a href="manage_drivers.php">Manage Drivers</a></li>
    <li class="menu-item"><a href="#">Reports</a></li>
    <li class="menu-item"><a href="#">Settings</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <div class="overview">
    <h2>Overview</h2>
    <p>Total Buses: <?php echo $busCount; ?></p>
    <p>Total Drivers: <?php echo $driverCount; ?></p>
  </div>
  <div class="bus-list">
    <h2>Current  Bus Location</h2>
    <form action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" method="POST"> <!--                        -->
      <select name="select_bus_number">
        <?php
        if ($busNumbersResult->num_rows > 0) {
            while ($row = $busNumbersResult->fetch_assoc()) {
                echo "<option value='" . $row['bus_number'] . "'>" . $row['bus_number'] . " - " . $row['route'] . "</option>";
            }
        } else {
            echo "<option value=''>No buses found</option>";
        }
        ?>
      </select>
      <button type="submit">View Details</button>
    </form>
  </div>

  <!--                                  -->
  <div class="additional-bus-list">
    <h2>Bus List</h2>
    <ul>
      <?php
      $sql = "SELECT bus_number, route FROM bus";
      $result = $conn->query($sql);
      if ($result->num_rows > 0) {
          while ($row = $result->fetch_assoc()) {
              echo "<li>" . $row['bus_number'] . " - " . $row['route'] . "</li>";
          }
      } else {
          echo "<li>No buses found.</li>";
      }
      ?>
    </ul>
  </div>
</div>
</body>
</html>

<?php
if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['select_bus_number']) && !empty($_POST['select_bus_number'])) {
    $busNumber = $_POST['select_bus_number'];
switch ($busNumber) {
        case '15':
            header("Location: home.html");
            exit();
        case '10':
            header("Location: home2.html");
            exit();
        case '1':
            header("Location: home3.html");
            exit();
        case '7':
            header("Location: home4.html");
            exit();
        case '11':
            header("Location: home5.html");
            exit();
        default:
            echo "Unknown bus type.";
            exit();
    }
}
?>

manage_buses.php
<?php
session_start();
if (!isset($_SESSION['username']) || $_SESSION['user_type'] != 'admin') {
    header("Location: index.html");
    exit();
}
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
if ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_POST['bus_number']) && isset($_POST['route'])) {
    $bus_number = $_POST['bus_number'];
    $route = $_POST['route'];
    $sql = "INSERT INTO bus (bus_number, route) VALUES ('$bus_number', '$route')";
    if ($conn->query($sql) === TRUE) {
        header("Location: manage_buses.php");
        exit();
    } else {
        echo "Error: " . $sql . "<br>" . $conn->error;
    }
}
if ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_POST['delete_bus_number'])) {
    $delete_bus_number = $_POST['delete_bus_number'];
        $sql = "DELETE FROM bus WHERE bus_number='$delete_bus_number'";
    if ($conn->query($sql) === TRUE) {
        header("Location: manage_buses.php");
        exit();
    } else {
        echo "Error deleting bus: " . $conn->error;
    }
}
?>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Buses</title>
  <link rel="stylesheet" type="text/css" href="manage_buses.css">
</head>
<body>
<div class="header">
  <h1>Manage Buses</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="admin_dashboard.php">Dashboard</a></li>
    <li class="menu-item"><a href="#">Manage Buses</a></li>
    <li class="menu-item"><a href="manage_drivers.php">Manage Drivers</a></li>
    <li class="menu-item"><a href="#">Reports</a></li>
    <li class="menu-item"><a href="#">Settings</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <h2>Bus List</h2>
  <ul>
<?php
$sql = "SELECT * FROM bus ORDER BY route";
$result = $conn->query($sql);
if ($result->num_rows > 0) {
    echo "<form action='manage_buses.php' method='POST'>";
    while ($row = $result->fetch_assoc()) {
        echo "<li>" . $row['route'];
        echo "<select name='bus_routes[" . $row['bus_number'] . "]'>";
        echo "<option value='none'>Assign Route</option>";
        $sql_bus = "SELECT DISTINCT bus_number FROM bus";
        $busNumbersResult = $conn->query($sql_bus);
        if ($busNumbersResult->num_rows > 0) {
            while ($bus_row = $busNumbersResult->fetch_assoc()) {
                echo "<option value='" . $bus_row['bus_number'] . "'";
                if ($bus_row['bus_number'] == $row['bus_number']) echo " selected"; 
                echo ">" . $bus_row['bus_number'] . "</option>";
            }
        }
        echo "</select>";
        echo "</li>";
    }
    echo "<button type='submit'>Submit</button>";
    echo "</form>";
} else {
    echo "<li>No buses found.</li>";
}
?>
  </ul>

  <hr> <!--                                                        -->

  <h2>Add New Bus</h2>
  <form action="manage_buses.php" method="POST">
    <label for="bus_number">Bus Number:</label>
    <input type="text" id="bus_number" name="bus_number" required>
    <label for="route">Route:</label>
    <input type="text" id="route" name="route" required>
    <button type="submit">Add Bus</button>
  </form>

  <hr> <!--                                                        -->

  <h2>Delete Bus</h2>
  <form action="manage_buses.php" method="POST">
    <label for="delete_bus_number">Bus Number to Delete:</label>
    <input type="text" id="delete_bus_number" name="delete_bus_number" required>
    <button type="submit">Delete Bus</button>
  </form>

  <hr> <!--                                                        -->

  <h2>Select Bus Numbers</h2>
  <?php
  $sql = "SELECT DISTINCT bus_number, route FROM bus";
  $busNumbersResult = $conn->query($sql);

  if ($busNumbersResult->num_rows > 0) {
      echo "<form action='manage_buses.php' method='POST'>";
      echo "<select name='select_bus_number'>";
      echo "<option value='none'>None</option>";
      while ($row = $busNumbersResult->fetch_assoc()) {
          echo "<option value='" . $row['bus_number'] . "'>" . $row['bus_number'] . " - " . $row['route'] . "</option>";
      }
      echo "</select>";
      echo "<button type='submit'>View Details</button>";
      echo "</form>";
  } else {
      echo "<p>No buses found.</p>";
  }
  ?>
</div>
</body>
</html>

manage_drivers.html
<?php
session_start();
if (!isset($_SESSION['username']) || $_SESSION['user_type'] != 'admin') {
    header("Location: index.html");
    exit();
}
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    $username = $_POST['username'];
    $password = $_POST['password'];
    $name = $_POST['name'];
    $bus_number = $_POST['bus_number'];
    $contact = $_POST['contact'];
    $route = $_POST['route'];
    $sql = "INSERT INTO drivers (username, password, name, bus_number, contact, route) VALUES ('$username', '$password', '$name', '$bus_number', '$contact', '$route')";
    if ($conn->query($sql) === TRUE) {
        echo "New driver added successfully";
    } else {
        echo "Error: " . $sql . "<br>" . $conn->error;
    }
}
$sql = "SELECT * FROM drivers";
$result = $conn->query($sql);
$drivers = [];
if ($result->num_rows > 0) {
    while ($row = $result->fetch_assoc()) {
        $drivers[] = $row;
    }
}
$conn->close();
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Drivers</title>
  <link rel="stylesheet" type="text/css" href="manage_drivers.css">
</head>
<body>
<div class="header">
  <h1>Manage Drivers</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="admin_dashboard.php">Dashboard</a></li>
    <li class="menu-item"><a href="manage_buses.php">Manage Buses</a></li>
    <li class="menu-item"><a href="#">Manage Drivers</a></li>
    <li class="menu-item"><a href="#">Reports</a></li>
    <li class="menu-item"><a href="#">Settings</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <h2>Driver List</h2>
  <ul>
    <?php foreach ($drivers as $driver): ?>
    <li><?php echo $driver['name'] . ' - ' . $driver['bus_number'] . ' - ' . $driver['route']; ?></li>
    <?php endforeach; ?>
  </ul>
  <h2>Add New Driver</h2>
  <form action="manage_drivers.php" method="POST">
    <div class="form-label">
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required><br>
    </div>
    <div class="form-label">
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required><br>
    </div>
<div class="form-label">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required><br>
</div>
<div class="form-label">
    <label for="bus_number">Bus Number:</label>
    <input type="text" id="bus_number" name="bus_number" required><br>
</div>
<div class="form-label">
    <label for="contact">Contact:</label>
    <input type="text" id="contact" name="contact" required><br>
</div>
<div class="form-label">
    <label for="route">Route:</label>
    <input type="text" id="route" name="route" required><br>
</div>
    <button type="submit">Add Driver</button>
  </form>
</div>
</body>
</html>

front.html
<!DOCTYPE html>
<html>
<head>
    <title>Bus Tracking System</title>
    <link rel="stylesheet" type="text/css" href="k1.css">
</head>
<body>
    <header>
        <h1>College Bus Tracking System</h1>
    </header>
    <main>
        <h2>Find Your Bus</h2>
        <form class="form" action="k3.php" method="post">
            <label for="bus_number" >Enter Bus Number:</label>
            <input type="text" id="bus_number" name="bus_number">
            <input type="submit" value="Submit" class="button">
        </form>
    </main>
</body>
</html>

k3.html
<?php
session_start();

$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
if (isset($_POST['bus_number']) && !empty($_POST['bus_number'])) {
    $busNumber = $_POST['bus_number'];
    $stmt = $conn->prepare("SELECT * FROM bus WHERE bus_number = ?");
    $stmt->bind_param("s", $busNumber);
    $stmt->execute();
    $result = $stmt->get_result();
    if ($result->num_rows > 0) {
        $row = $result->fetch_assoc();

        $_SESSION['bus_number'] = $busNumber;
        error_log("Redirecting to the page for bus number: $busNumber");
        switch ($busNumber) {
            case '15':
                header("Location: home.html");
                exit();
            case '10':
                header("Location: home2.html");
                exit();
            case '1':
                header("Location: home3.html");
                exit();
            case '7':
                header("Location: home4.html");
                exit();
            case '11':
                header("Location: home5.html");
                exit();
            default:
                echo "Unknown bus type.";
                exit();
        }
    } else {
        echo "Invalid Bus Number";
        error_log("Invalid Bus Number: $busNumber");
    }
    $stmt->close();
} else {
    echo "Please provide a bus number.";
    error_log("Bus number not provided or empty.");
}

$conn->close();
?>

location.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <link rel="stylesheet" type="text/css" href="admin.css">
</head>
<body>
<div class="header">
  <h1>Admin Dashboard</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="#">Dashboard</a></li>
    <li class="menu-item"><a href="manage_buses.php">Manage Buses</a></li>
    <li class="menu-item"><a href="manage_drivers.php">Manage Drivers</a></li>
    <li class="menu-item"><a href="#">Reports</a></li>
    <li class="menu-item"><a href="#">Settings</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <div class="overview">
    <h2>Overview</h2>
    <!--                                                -->
  </div>
  <div class="bus-list">
    <h2>Current Bus Location</h2>
    <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="POST">
      <select name="bus_number">
        <!--                                           -->
      </select>
      <button type="submit">View Details</button>
    </form>
  </div>
</div>

<?php
session_start();
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    if (isset($_POST['bus_number']) && !empty($_POST['bus_number'])) {
        $busNumber = $_POST['bus_number'];
        $stmt = $conn->prepare("SELECT * FROM bus WHERE bus_number = ?");
        $stmt->bind_param("s", $busNumber);
        $stmt->execute();
        $result = $stmt->get_result();
        if ($result->num_rows > 0) {
            $row = $result->fetch_assoc();
            $_SESSION['bus_number'] = $busNumber;
            switch ($busNumber) {
                case '15':
                    header("Location: home.html");
                    exit();
                case '10':
                    header("Location: home2.html");
                    exit();
                case '1':
                    header("Location: home3.html");
                    exit();
                case '7':
                    header("Location: home4.html");
                    exit();
                case '11':
                    header("Location: home5.html");
                    exit();
                default:
                    echo "Unknown bus type.";
                    exit();
            }
        } else {
            echo "Invalid Bus Number";
        }
        $stmt->close();
    } else {
        echo "Please provide a bus number.";
    }
}
$conn->close();
?>
</body>
</html>

driver.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Driver Dashboard</title>
  <link rel="stylesheet" type="text/css" href="driver.css">
</head>
<body>
<div class="header">
  <h1>Hello Driver</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="driver_routes.php">Routes</a></li>
    <li class="menu-item"><a href="driver_schedule.php">Schedule</a></li>
    <li class="menu-item"><a href="#">Notifications</a></li>
    <li class="menu-item"><a href="#">Messages</a></li>
    <li class="menu-item"><a href="driver_profile.php">Profile</a></li>
    <li class="menu-item"><a href="#">Emergency</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <h2>Welcome to the Driver Dashboard!</h2>
  <p>This is where you can manage routes, view schedules, check notifications, read messages, and update your profile.</p>
</div>
</body>
</html>

driver_profile.php
<?php
session_start();
if (!isset($_SESSION['username']) || $_SESSION['user_type'] != 'driver') {
    header("Location: index.html");
    exit();
}
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
$driverUsername = $_SESSION['username'];
$sql = "SELECT * FROM drivers WHERE username = '$driverUsername'";
$result = $conn->query($sql);
$driver = [];
if ($result->num_rows > 0) {
    $driver = $result->fetch_assoc();
}
$conn->close();
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Driver Profile</title>
  <link rel="stylesheet" type="text/css" href="driver.css">
</head>
<body>
<div class="header">
  <h1>Profile</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="driver_routes.php">Routes</a></li>
    <li class="menu-item"><a href="driver_schedule.php">Schedule</a></li>
    <li class="menu-item"><a href="#">Notifications</a></li>
    <li class="menu-item"><a href="#">Messages</a></li>
    <li class="menu-item"><a href="driver_profile.php">Profile</a></li>
    <li class="menu-item"><a href="#">Emergency</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <h2>Your Profile</h2>
  <p><strong>Name:</strong> <?php echo $driver['name']; ?></p>
  <p><strong>Bus Number:</strong> <?php echo $driver['bus_number']; ?></p>
  <p><strong>Contact:</strong> <?php echo $driver['contact']; ?></p>
</div>
</body>
</html>

driver_routes.php
<?php
session_start();
if (!isset($_SESSION['username']) || $_SESSION['user_type'] != 'driver') {
    header("Location: index.html");
    exit();
}
$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";
$conn = new mysqli($servername, $username, $password, $dbname);
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}
$driverUsername = $_SESSION['username'];
$sql = "SELECT * FROM drivers WHERE username = '$driverUsername'";
$result = $conn->query($sql);
$driver = [];
if ($result->num_rows > 0) {
    $driver = $result->fetch_assoc();
}
$conn->close();
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Driver Profile</title>
  <link rel="stylesheet" type="text/css" href="driver.css">
</head>
<body>
<div class="header">
  <h1>Profile</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="driver_routes.php">Routes</a></li>
    <li class="menu-item"><a href="driver_schedule.php">Schedule</a></li>
    <li class="menu-item"><a href="#">Notifications</a></li>
    <li class="menu-item"><a href="#">Messages</a></li>
    <li class="menu-item"><a href="driver_profile.php">Profile</a></li>
    <li class="menu-item"><a href="#">Emergency</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <h2>Your Profile</h2>
  <p><strong>Name:</strong> <?php echo $driver['name']; ?></p>
  <p><strong>Bus Number:</strong> <?php echo $driver['bus_number']; ?></p>
  <p><strong>Contact:</strong> <?php echo $driver['contact']; ?></p>
</div>
</body>
</html>

driver_schedule.php
<?php
session_start();
if (!isset($_SESSION['username']) || $_SESSION['user_type'] != 'driver') {
    header("Location: index.html");
    exit();
}

$servername = "localhost";
$username = "root";
$password = "";
$dbname = "userlog";

$conn = new mysqli($servername, $username, $password, $dbname);

if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

$sql = "SELECT * FROM schedule WHERE driver_username = '{$_SESSION['username']}'";
$result = $conn->query($sql);

$schedules = [];
if ($result->num_rows > 0) {
    while ($row = $result->fetch_assoc()) {
        $schedules[] = $row;
    }
}

$conn->close();
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Driver Schedule</title>
  <link rel="stylesheet" type="text/css" href="driver.css">
</head>
<body>
<div class="header">
  <h1>Schedule</h1>
</div>
<div class="sidebar">
  <ul>
    <li class="menu-item"><a href="driver_routes.php">Routes</a></li>
    <li class="menu-item"><a href="driver_schedule.php">Schedule</a></li>
    <li class="menu-item"><a href="#">Notifications</a></li>
    <li class="menu-item"><a href="#">Messages</a></li>
    <li class="menu-item"><a href="driver_profile.php">Profile</a></li>
    <li class="menu-item"><a href="#">Emergency</a></li>
    <li class="menu-item"><a href="index.html">Logout</a></li>
  </ul>
</div>
<div class="main-content">
  <h2>Your Schedule</h2>
  <ul>
    <?php foreach ($schedules as $schedule): ?>
    <li><?php echo $schedule['time'] . ' - ' . $schedule['description']; ?></li>
    <?php endforeach; ?>
  </ul>
</div>
</body>
</html>
home.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./home.css">
    <title>Document</title>
</head>
<body>
    <h1 class="heading">Bus Tracking...</h1>
    <iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31332.32407238025!2d76.79323392450414!3d10.998013773701894!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba85e3c47921667%3A0x153c5ae800361ab7!2sThondamuthur%2C%20Tamil%20Nadu%20641109!5e0!3m2!1sen!2sin!4v1712552243190!5m2!1sen!2sin" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</body>
</html>

home2.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./home.css">
    <title>Document</title>
</head>
<body>
    <h1 class="heading">Bus Tracking...</h1>
<iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3916.581652545257!2d76.7693338550579!3d10.994916284893378!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba86104b8f60b01%3A0x75c28a0ddc379a9d!2sCoimbatore%20Institute%20of%20Engineering%20and%20Technology!5e0!3m2!1sen!2sin!4v1715922428047!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>    
</body>
</html>

home3.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./home.css">
    <title>Document</title>
</head>
<body>
    <h1 class="heading">Bus Tracking...</h1>
<iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15662.64573159848!2d76.89937823382603!3d11.063990384661869!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba8f5fa25cbe2ef%3A0x1dfb1db6e4f1d96e!2sKanuvai%2C%20Coimbatore%2C%20Tamil%20Nadu!5e0!3m2!1sen!2sin!4v1715924009979!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>    
</body>
</html>
home4.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./home.css">
    <title>Document</title>
</head>
<body>
    <h1 class="heading">Bus Tracking...</h1>
   <iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15668.43979714782!2d76.9623251338025!3d10.955066594083835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba85a3033356c81%3A0xdbd08127935ee451!2sSundarapuram%2C%20Coimbatore%2C%20Kurichi%2C%20Tamil%20Nadu%20641024!5e0!3m2!1sen!2sin!4v1715924095180!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</body>
</html>

home5.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./home.css">
    <title>Document</title>
</head>
<body>
    <h1 class="heading">Bus Tracking...</h1>
   <iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15668.43979714782!2d76.9623251338025!3d10.955066594083835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba85a3033356c81%3A0xdbd08127935ee451!2sSundarapuram%2C%20Coimbatore%2C%20Kurichi%2C%20Tamil%20Nadu%20641024!5e0!3m2!1sen!2sin!4v1715924095180!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</body>
</html>

admin.css
.body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

.header {
    background-color: #333;
    color: white;
    padding: 15px;
    text-align: center;
}

.sidebar {
    background-color: #f4f4f4;
    width: 200px;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    padding-top: 20px;
}

.sidebar ul {
    list-style-type: none;
    padding: 0;
}

.sidebar ul li {
    padding: 10px;
    text-align: center;
}

.sidebar ul li a {
    text-decoration: none;
    color: black;
    display: block;
}

.sidebar ul li a:hover {
    background-color: #ddd;
}

.main-content {
    margin-left: 220px;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.overview {
    width: 48%;
    box-sizing: border-box;
}

.bus-list {
    width: 48%;
    box-sizing: border-box;
    text-align: center; 
}

.bus-list ul {
    list-style-type: none;
    padding: 0;
}

admin1.css

body, h1, h2, p, ul, li {
    margin: 0;
    padding: 0;
  }
  
  body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
  }
  
  .header {
    background-color: #333;
    color: #fff;
    padding: 20px 0;
    text-align: center;
    animation: slideDown 0.5s ease;
  }
  
  @keyframes slideDown {
    0% { transform: translateY(-50px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }
  
  .sidebar {
    width: 200px;
    background-color: #f4f4f4;
    float: left;
    height: calc(100vh - 40px); 
    padding-top: 20px; 
    animation: slideRight 0.5s ease;
  }
  
  @keyframes slideRight {
    0% { transform: translateX(-200px); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
  }
  
  .main-content {
    background-image: url("./images/admin1.jpg");
    color: white;
    height: 100vh;
    margin-left: 200px;
    padding: 20px;
    animation: fadeIn 0.5s ease;
  }
  
  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  
  .menu-item {
    padding: 10px 20px;
    border-bottom: 1px solid #ccc;
    transition: background-color 0.3s ease;
  }
  
  .menu-item:hover {
    background-color: #ddd;
  }
  
  .menu-item a {
    text-decoration: none;
    color: #333;
    transition: color 0.3s ease;
  }
  
  .menu-item a:hover {
    color: #007bff;
  }
  
  .sidebar {
    width: 200px;
    background-color: #f4f4f4;
    float: left;
    height: calc(100vh - 40px); 
    padding-top: 20px; 
    animation: slideRight 0.5s ease;
    transition: background-color 0.3s ease;  }
  
  .sidebar:hover {
    background-color: #e0e0e0; 
  }
  
  @keyframes slideRight {
    0% { transform: translateX(-200px); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
  }
  Admindash.css
.body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

.header {
    background-color: #333;
    color: white;
    padding: 15px;
    text-align: center;
}

.sidebar {
    background-color: #f4f4f4;
    width: 200px;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    padding-top: 20px;
}

.sidebar ul {
    list-style-type: none;
    padding: 0;
}

.sidebar ul li {
    padding: 10px;
    text-align: center;
}

.sidebar ul li a {
    text-decoration: none;
    color: black;
    display: block;
}

.sidebar ul li a:hover {
    background-color: #ddd;
}

.main-content {
    margin-left: 220px;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    flex-direction: column; /* Ensure content is stacked vertically */
}

.main-content h2,
.main-content p {
    text-align: center; /* Center-align both heading and paragraph */
}

.overview {
    width: 48%;
    box-sizing: border-box;
}

.bus-list {
    width: 48%;
    box-sizing: border-box;
    text-align: center; 
}

.bus-list ul {
    list-style-type: none;
    padding: 0;
}
admindashboard1.css


html,
body {
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
}

.header {
    background-color: #333;
    color: white;
    padding: 15px;
    text-align: center;
}

.sidebar {
    background-color: #f4f4f4;
    width: 200px;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    padding-top: 20px;
}

.sidebar ul {
    list-style-type: none;
    padding: 0;
}

.sidebar ul li {
    padding: 10px;
    text-align: center;
}

.sidebar ul li a {
    text-decoration: none;
    color: black;
    display: block;
}

.sidebar ul li a:hover {
    background-color: #ddd;
}

.main-content {
    margin-left: 220px; 
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    min-height: 100%; 
}

.overview,
.bus-list,
.additional-bus-list {
    width: 48%;
    box-sizing: border-box;
}

.bus-list ul,
.additional-bus-list ul {
    list-style-type: none;
    padding: 0;
    text-align: center;
}

.bus-list ul li,
.additional-bus-list ul li {
    padding: 10px;
    border-bottom: 1px solid #ccc;
}

.bus-list button,
.additional-bus-list button {
    margin-top: 10px;
}



manage_buses.css
html,
body {
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
}

.header {
    background-color: #333;
    color: white;
    padding: 15px;
    text-align: center;
}

.sidebar {
    background-color: #f4f4f4;
    width: 200px;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    padding-top: 20px;
}

.sidebar ul {
    list-style-type: none;
    padding: 0;
}

.sidebar ul li {
    padding: 10px;
    text-align: center;
}

.sidebar ul li a {
    text-decoration: none;
    color: black;
    display: block;
}

.sidebar ul li a:hover {
    background-color: #ddd;
}

.main-content {
    margin-left: 220px; /* Adjusted for sidebar width */
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    min-height: 100%; /* Extend to at least the height of the viewport */
}

.overview,
.bus-list,
.additional-bus-list {
    width: 48%;
    box-sizing: border-box;
}

.bus-list ul,
.additional-bus-list ul {
    list-style-type: none;
    padding: 0;
    text-align: center;
}

.bus-list ul li,
.additional-bus-list ul li {
    padding: 10px;
    border-bottom: 1px solid #ccc;
}

.bus-list button,
.additional-bus-list button {
    margin-top: 10px;
}
manage_drivers.css


html,
body {
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    
}

.header {
    background-color: #333;
    color: white;
    padding: 15px;
    text-align: center;
}

.sidebar {
    background-color: #f4f4f4;
    width: 200px;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    padding-top: 20px;
}

.sidebar ul {
    list-style-type: none;
    padding: 0;
}

.sidebar ul li {
    padding: 10px;
    text-align: center;
}

.sidebar ul li a {
    text-decoration: none;
    color: black;
    display: block;
}

.sidebar ul li a:hover {
    background-color: #ddd;
}

.main-content {
    margin-left: 220px; 
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    min-height: 100%; 
}

.main-content button{
	margin-top:15px;
}

.main-content input{
    margin-top:-15px;
}

.form-label{
    display:grid;
    grid-template-columns: 100px 200px;
}

.driver-list,
.add-driver {
    width: 48%;
    box-sizing: border-box;
}

.driver-list ul,
.add-driver form {
    list-style-type: none;
    padding: 0;
    text-align: center;
}

.driver-list ul li,
.add-driver form label,
.add-driver form input,
.add-driver form button {
    padding: 10px;
    margin-top:15px;
    border-bottom: 1px solid #ccc;
}

.add-driver form label,
.add-driver form input {
    width: 100%;
    box-sizing: border-box;
}

.add-driver form label {
    display: block;
    margin-bottom: 10px; 
} 


driver.css
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f2f2f2;
}

.header {
    background-color: #333;
    color: #fff;
    padding: 10px;
    text-align: center;
}

.sidebar {
    width: 200px;
    background-color: #f2f2f2;
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    overflow: auto;
    border-right: 1px solid #ddd;
}

.sidebar ul {
    list-style-type: none;
    padding: 0;
}

.sidebar ul li {
    padding: 10px;
    text-align: left;
}

.sidebar ul li a {
    text-decoration: none;
    color: #333;
    display: block;
}

.sidebar ul li a:hover {
    background-color: #ddd;
}

.main-content {
    margin-left: 220px;
    padding: 20px;
}

h2 {
    margin-top: 0;
}

ul {
    list-style-type: none;
    padding: 0;
}

li {
    background-color: #fff;
    border: 1px solid #ddd;
    margin-bottom: 10px;
    padding: 10px;
    border-radius: 4px;
}

front.css
body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    background-image: url("./images/gk.jpg");
    background-size: cover;
    background-repeat: no-repeat;
    height: 100vh;
}

.container {
    width: 300px;
    padding: 20px;
    background-color: transparent;
    border-radius: 4px;
    margin: 50px auto;
    box-shadow: 10px 20px 30px rgba(0,0,0,0.1);
}

h1 {
    text-align: center;
    margin-bottom: 30px;
}

label {
    display: block;
    margin-bottom: 5px;
}

input[type="text"], input[type="password"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
    margin-bottom: 10px;
}

select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
    margin-bottom: 20px;
}

input[type="submit"] {
    width: 100%;
    padding: 10px;
    background-color: #4CAF50;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

input[type="submit"]:hover {
    background-color: #45a049;
}


home.css
.map{
    width: 100%;
    height: 90vh;
}
body{
    background-color: black;
    color: white;
}

k1.css
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f2f2f2;
    background-image: url("./images/b1.jpg");
    background-repeat: no-repeat;
    background-size: cover;
}

.img{
    width: 100vw;
    z-index: -1;
    position: relative;
}

header {
    background-color: #333;
    color: #fff;
    padding: 10px;
    text-align: center;
}

main {
    padding: 20px;
    max-width: 800px;
    margin: 20px auto;
    background-color:rgba(0, 0, 0, 0.8);
    border-radius: 5px;
    box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
    position: relative;
    z-index: 2;
    top: 30vh;
    color: #f2f2f2;
}

form {
    display: flex;
    margin-bottom: 20px;
}

label {
    flex-grow: 1;
    padding-right: 10px;
}

.button[type="submit"] {
    background-color: #333;
    color: #fff;
    border: none;
    padding: 10px;
    border-radius: 5px;
    cursor: pointer;
}

#bus-info {
    border: 1px solid #333;
    padding: 10px;
    border-radius: 5px;
}

footer {
    background-color: #333;
    color: #fff;
    padding: 10px;
    text-align: center;
    position: fixed;
    bottom: 0;
    width: 100%;
}


Sql query
CREATE DATABASE userlog;

USE userlog;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL,
    user_type ENUM('driver', 'admin') NOT NULL
);

CREATE TABLE drivers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL,
    name VARCHAR(100) NOT NULL,
    bus_number VARCHAR(20) NOT NULL,
    contact VARCHAR(20) NOT NULL,
    route VARCHAR(100) NOT NULL,
    FOREIGN KEY (username) REFERENCES users(username)
);

CREATE TABLE bus (
    id INT AUTO_INCREMENT PRIMARY KEY,
    bus_number VARCHAR(20) NOT NULL,
    route VARCHAR(100) NOT NULL
);

CREATE TABLE schedule (
    id INT AUTO_INCREMENT PRIMARY KEY,
    driver_username VARCHAR(50) NOT NULL,
    time VARCHAR(50) NOT NULL,
    description TEXT NOT NULL,
    FOREIGN KEY (driver_username) REFERENCES users(username)
);

INSERT INTO users (username, password, user_type) VALUES
('admin', 'adminpassword', 'admin'),
('driver1', 'driver1password', 'driver'),
('driver2', 'driver2password', 'driver');

INSERT INTO drivers (username, password, name, bus_number, contact, route) VALUES
('driver1', 'driver1password', 'John Doe', 'Bus100', '1234567890', 'Route 1'),
('driver2', 'driver2password', 'Jane Smith', 'Bus200', '0987654321', 'Route 2');

INSERT INTO bus (bus_number, route) VALUES
('Bus100', 'Route 1'),
('Bus200', 'Route 2');
